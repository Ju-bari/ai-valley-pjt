---
description: when deciding where to create new files/folders or how to import modules from other parts of the codebase.
globs: 
alwaysApply: false
---
# ë””ë ‰í† ë¦¬ êµ¬ì¡° ì „ëµ ë° ê·œì¹™

## ğŸ“ ì „ì²´ êµ¬ì¡° ê°œìš”

ë³¸ í”„ë¡œì íŠ¸ëŠ” **ë„ë©”ì¸ ê¸°ë°˜ ì„¤ê³„(Domain-Driven Design)** ì™€ **ê¸°ëŠ¥ë³„ ë¶„ë¦¬(Feature-based)** ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.

```
src/
â”œâ”€â”€ domains/           # ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ë³„ ë¶„ë¦¬
â”‚   â”œâ”€â”€ auth/         # ì¸ì¦/ì¸ê°€ ë„ë©”ì¸
â”‚   â”œâ”€â”€ board/        # ê²Œì‹œíŒ ë„ë©”ì¸
â”‚   â”œâ”€â”€ clone/        # AI í´ë¡  ë„ë©”ì¸
â”‚   â”œâ”€â”€ home/         # í™ˆí˜ì´ì§€ ë„ë©”ì¸
â”‚   â””â”€â”€ user/         # ì‚¬ìš©ì ë„ë©”ì¸
â”œâ”€â”€ shared/           # ê³µí†µ ëª¨ë“ˆ
â”œâ”€â”€ lib/             # ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •
â”œâ”€â”€ assets/          # ì •ì  ìì›
â””â”€â”€ main.tsx         # ì•± ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
```

## ğŸ¯ í•µì‹¬ ì›ì¹™

### 1. ë„ë©”ì¸ ìš°ì„  (Domain First)
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë”°ë¼ ë„ë©”ì¸ì„ ë¶„ë¦¬
- ê° ë„ë©”ì¸ì€ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ/ë°°í¬ ê°€ëŠ¥
- ë„ë©”ì¸ ê°„ ì˜ì¡´ì„± ìµœì†Œí™”

### 2. ê³„ì¸µí™” (Layered Architecture)
- Presentation Layer: `components/`
- Business Layer: `services/`, `hooks/`
- Data Layer: `types/`, API í´ë¼ì´ì–¸íŠ¸

### 3. ì¬ì‚¬ìš©ì„± ê·¹ëŒ€í™”
- ê³µí†µ ì»´í¬ë„ŒíŠ¸ëŠ” `shared/`ì— ìœ„ì¹˜
- ë„ë©”ì¸ë³„ íŠ¹í™” ë¡œì§ì€ í•´ë‹¹ ë„ë©”ì¸ ë‚´ë¶€ì—ë§Œ

## ğŸ“‚ ë„ë©”ì¸ êµ¬ì¡° ê·œì¹™

### í•„ìˆ˜ ë””ë ‰í† ë¦¬

ê° ë„ë©”ì¸ì€ ë‹¤ìŒ êµ¬ì¡°ë¥¼ **ë°˜ë“œì‹œ** í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:

```
domains/{domain-name}/
â”œâ”€â”€ components/       # React ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ services/        # API í˜¸ì¶œ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”œâ”€â”€ types/          # TypeScript íƒ€ì… ì •ì˜
â””â”€â”€ index.ts        # ë„ë©”ì¸ ì§„ì…ì  (re-export)
```

### ì„ íƒì  ë””ë ‰í† ë¦¬

í•„ìš”ì— ë”°ë¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ë””ë ‰í† ë¦¬:

```
domains/{domain-name}/
â”œâ”€â”€ hooks/          # ì»¤ìŠ¤í…€ React í›…
â”œâ”€â”€ utils/          # ë„ë©”ì¸ë³„ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ constants/      # ë„ë©”ì¸ë³„ ìƒìˆ˜
â”œâ”€â”€ stores/         # ìƒíƒœ ê´€ë¦¬ (Zustand, Redux ë“±)
â””â”€â”€ validators/     # í¼ ê²€ì¦ ë¡œì§
```

## ğŸ”„ ì˜ì¡´ì„± ê·œì¹™

### âœ… í—ˆìš©ë˜ëŠ” ì˜ì¡´ì„±

1. **ë„ë©”ì¸ â†’ Shared**: í•­ìƒ í—ˆìš©
   ```typescript
   // âœ… Good
   import { Button } from '../../../shared/components/ui/button';
   ```

2. **ë„ë©”ì¸ â†’ Lib**: í•­ìƒ í—ˆìš©
   ```typescript
   // âœ… Good
   import { cn } from '../../../lib/utils';
   ```

3. **Shared â†’ Lib**: í•­ìƒ í—ˆìš©

### âŒ ê¸ˆì§€ë˜ëŠ” ì˜ì¡´ì„±

1. **ë„ë©”ì¸ â†’ ë‹¤ë¥¸ ë„ë©”ì¸**: ì§ì ‘ ì˜ì¡´ ê¸ˆì§€
   ```typescript
   // âŒ Bad
   import { UserService } from '../../user/services/userService';
   
   // âœ… Good - sharedë¥¼ í†µí•´ ê°„ì ‘ ì°¸ì¡°
   import { UserService } from '../../../shared/services';
   ```

2. **Shared â†’ ë„ë©”ì¸**: ì—­ë°©í–¥ ì˜ì¡´ì„± ê¸ˆì§€
   ```typescript
   // âŒ Bad
   import { BoardTypes } from '../../domains/board/types';
   ```

## ğŸ“‹ ë„¤ì´ë° ê·œì¹™

### íŒŒì¼ëª… ê·œì¹™

| íƒ€ì… | ê·œì¹™ | ì˜ˆì‹œ |
|------|------|------|
| ì»´í¬ë„ŒíŠ¸ | PascalCase | `UserProfile.tsx` |
| ì„œë¹„ìŠ¤ | camelCase + Service | `userService.ts` |
| í›… | camelCase + use ì ‘ë‘ì‚¬ | `useUser.ts` |
| íƒ€ì… | camelCase | `index.ts` |
| ìœ í‹¸ë¦¬í‹° | camelCase | `formatDate.ts` |
| ìƒìˆ˜ | camelCase | `constants.ts` |

### ë””ë ‰í† ë¦¬ëª… ê·œì¹™

| íƒ€ì… | ê·œì¹™ | ì˜ˆì‹œ |
|------|------|------|
| ë„ë©”ì¸ | kebab-case (ë‹¨ìˆ˜í˜•) | `user`, `board`, `clone` |
| ê¸°ëŠ¥ ë””ë ‰í† ë¦¬ | kebab-case (ë³µìˆ˜í˜•) | `components`, `services` |

## ğŸ—‚ï¸ íŒŒì¼ êµ¬ì„± í…œí”Œë¦¿

### ë„ë©”ì¸ index.ts

```typescript
// domains/{domain}/index.ts
export * from './components';
export * from './services';
export * from './types';
export * from './hooks';
```

### ì„œë¹„ìŠ¤ íŒŒì¼

```typescript
// domains/{domain}/services/{domain}Service.ts
import { api } from '../../../shared/utils/api';
import type { CreateRequest, InfoResponse } from '../types';

export const get{Domain}ById = async (id: number): Promise<InfoResponse> => {
  const response = await api.get(`/api/v1/{domain}s/${id}`);
  return response;
};

export const create{Domain} = async (data: CreateRequest): Promise<void> => {
  await api.post('/api/v1/{domain}s', data);
};
```

### ì»´í¬ë„ŒíŠ¸ íŒŒì¼

```typescript
// domains/{domain}/components/{Component}.tsx
import { useState, useEffect } from 'react';
import { Button } from '../../../shared/components/ui/button';
import { get{Domain}ById } from '../services/{domain}Service';
import type { InfoResponse } from '../types';

interface {Component}Props {
  id: number;
}

export default function {Component}({ id }: {Component}Props) {
  // Component logic
}
```

## ğŸ”§ ê°œë°œ ê°€ì´ë“œë¼ì¸

### 1. ìƒˆ ë„ë©”ì¸ ì¶”ê°€ ì‹œ

1. ë„ë©”ì¸ ë””ë ‰í† ë¦¬ ìƒì„±
2. í•„ìˆ˜ í•˜ìœ„ ë””ë ‰í† ë¦¬ ìƒì„± (`components`, `services`, `types`)
3. `index.ts` íŒŒì¼ ìƒì„±
4. ë¼ìš°íŒ…ì— ë„ë©”ì¸ ì¶”ê°€

### 2. ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ê¸°ì¤€

#### ë„ë©”ì¸ ì»´í¬ë„ŒíŠ¸ (domains/{domain}/components/)
- í•´ë‹¹ ë„ë©”ì¸ì—ì„œë§Œ ì‚¬ìš©
- ë„ë©”ì¸ë³„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨
- ì˜ˆ: `PostDetailPage.tsx`, `CloneCreateModal.tsx`

#### ê³µí†µ ì»´í¬ë„ŒíŠ¸ (shared/components/)
- ì—¬ëŸ¬ ë„ë©”ì¸ì—ì„œ ì¬ì‚¬ìš©
- ìˆœìˆ˜í•œ UI ì»´í¬ë„ŒíŠ¸
- ì˜ˆ: `Button.tsx`, `Modal.tsx`, `Layout.tsx`

### 3. ìƒíƒœ ê´€ë¦¬ ì „ëµ

```typescript
// ë¡œì»¬ ìƒíƒœ: useState, useReducer
const [data, setData] = useState();

// ì„œë²„ ìƒíƒœ: React Query, SWR
const { data, loading } = useQuery(['user', id], () => getUserById(id));

// ì „ì—­ ìƒíƒœ: Zustand, Redux (shared/stores/)
const { user, setUser } = useUserStore();
```

## ğŸ“¦ Import ìˆœì„œ ê·œì¹™

```typescript
// 1. React ê´€ë ¨
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';

// 2. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬
import { z } from 'zod';

// 3. ì ˆëŒ€ ê²½ë¡œ imports (shared, lib)
import { Button } from '../../../shared/components/ui/button';
import { cn } from '../../../lib/utils';

// 4. ìƒëŒ€ ê²½ë¡œ imports (ê°™ì€ ë„ë©”ì¸ ë‚´)
import { getUserById } from '../services/userService';
import type { User } from '../types';
```

## ğŸš€ í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

### Micro-Frontend ì¤€ë¹„
- ê° ë„ë©”ì¸ì€ ë…ë¦½ì ì¸ ë²ˆë“¤ë§ ê°€ëŠ¥
- ë„ë©”ì¸ë³„ íŒ€ ë¶„ì—… ìš©ì´
- ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ ì§€ì›

### ì„±ëŠ¥ ìµœì í™”
- ë„ë©”ì¸ë³„ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- ì§€ì—° ë¡œë”© (React.lazy)
- íŠ¸ë¦¬ ì‰ì´í‚¹ ìµœì í™”

## âš ï¸ ì•ˆí‹°íŒ¨í„´

### í”¼í•´ì•¼ í•  êµ¬ì¡°

```typescript
// âŒ Bad: ìˆœí™˜ ì˜ì¡´ì„±
domains/user/services/userService.ts â†’ domains/board/services/boardService.ts
domains/board/services/boardService.ts â†’ domains/user/services/userService.ts

// âŒ Bad: sharedì— ë„ë©”ì¸ë³„ ë¡œì§
shared/components/UserSpecificComponent.tsx

// âŒ Bad: ê¹Šì€ ì¤‘ì²©
domains/user/components/profile/details/personal/BasicInfo.tsx
```

### ê¶Œì¥ í•´ê²°ì±…

```typescript
// âœ… Good: sharedë¥¼ í†µí•œ ì˜ì¡´ì„± ê´€ë¦¬
shared/services/apiService.ts â† ê³µí†µ API ë¡œì§
domains/user/services/userService.ts â† ì‚¬ìš©ìë³„ ë¡œì§ë§Œ
domains/board/services/boardService.ts â† ê²Œì‹œíŒë³„ ë¡œì§ë§Œ

// âœ… Good: ì»´í¬ë„ŒíŠ¸ í•©ì„±
domains/user/components/UserProfile.tsx
â”œâ”€â”€ PersonalInfo.tsx
â”œâ”€â”€ ContactInfo.tsx
â””â”€â”€ PreferenceSettings.tsx
```

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìƒˆ ê¸°ëŠ¥ ê°œë°œ ì‹œ í™•ì¸ì‚¬í•­:

- [ ] ì˜¬ë°”ë¥¸ ë„ë©”ì¸ì— ìœ„ì¹˜í•˜ëŠ”ê°€?
- [ ] ì˜ì¡´ì„± ê·œì¹™ì„ ì¤€ìˆ˜í•˜ëŠ”ê°€?
- [ ] ë„¤ì´ë° ê·œì¹™ì„ ë”°ë¥´ëŠ”ê°€?
- [ ] index.tsì— exportë¥¼ ì¶”ê°€í–ˆëŠ”ê°€?
- [ ] íƒ€ì… ì •ì˜ë¥¼ í¬í•¨í–ˆëŠ”ê°€?
- [ ] ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¶€ë¶„ì„ sharedë¡œ ë¶„ë¦¬í–ˆëŠ”ê°€?